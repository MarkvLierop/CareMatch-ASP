
@{
    ViewBag.Title = "Hulpvraag Bekijken";
    Layout = "~/Views/Shared/_Layout.cshtml";
    CareMatch.Models.Hulpvraag h = ViewData["Hulpvraag"] as CareMatch.Models.Hulpvraag;
}
<a href="@Url.Action("HulpvragenOverzicht", "Vrijwilliger")" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Sluiten</a>
<h2>Hulpvraag</h2>
<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">Hulpvraag: @h.Titel</h3>
    </div>
    <div class="panel-body">
        <table class="table table-striped">
            <thead>
            </thead>
            <tbody>
                <tr>
                    <th>Omschrijving</th>
                    <td>@h.HulpvraagInhoud</td>
                </tr>
                <tr>
                    <th>Urgent</th>
                    <td>@h.Urgent</td>
                </tr>
                <tr>
                    <th>Locatie</th>
                    <td>@h.Locatie</td>
                </tr>
                <tr>
                    <th>Startdatum</th>
                    <td>@h.StartDatum</td>
                </tr>
                <tr>
                    <th>Einddatum</th>
                    <td>@h.EindDatum</td>
                </tr>
            </tbody>
        </table>
        <hr id="hr" />
        <h4>Status:</h4>
        @{ if (h.Vrijwilliger == "")
            {
                <div class="progress progress-striped active">
                    <div class="progress-bar" style="width: 30%">Ingediend</div>
                </div>
                <a type="button" class="btn btn-info" href='@Url.Action("ChatStarten", new { id = @h.Hulpbehoevende})'>Chat Starten</a>                                  <a type="button" class="btn btn-info" href='@Url.Action("HulpvraagAannemen", new { id = @h.HulpvraagID})'>Aannemen</a>
            }
            else if(h.Vrijwilliger !="" && h.Beoordeling == "")
            {
                <div class="progress progress-striped active">
                    <div class="progress-bar" style="width: 33%">Ingediend</div>
                    <div class="progress-bar progress-bar-warning" style="width: 33%">Aangenomen</div>
                </div>
                    <h4>Deze hulpvraag is aangenomen door: <strong>@h.Vrijwilliger</strong>.</h4>
                    <hr id="hr" />
                    <p>Er is nog geen beoordeling gegeven voor het gedane werk.</p>
            }
            else if (h.Beoordeling != "")
            {
                <div class="progress progress-striped active">
                    <div class="progress-bar" style="width: 33%">Ingediend</div>
                    <div class="progress-bar progress-bar-warning" style="width: 33%">Aangenomen</div>
                    <div class="progress-bar progress-bar-success" style="width: 34%">Beoordeeld</div>
                </div>
                <h4>De vrijwilliger: <strong>@h.Vrijwilliger</strong> heeft deze hulpvraag uitgevoerd. Hieronder vindt u de beoordeling.</h4>
                <hr id="hr" />
                <p>
                    <strong>Cijfer</strong>: @h.Cijfer <br />
                    <strong>Beoordeling</strong>: @h.Beoordeling
                </p>
                <hr id="hr" />
                if (h.ReactieBeoordeling == "")
                {
                    <h5>Reageer op deze beoordeling:</h5>
                    <form method="post" name="beoordeling" action="@Url.Action("Beoordelingreactie", "Vrijwilliger")">
                        <fieldset>
                            <input type="hidden" value="@h.HulpvraagID" name="id" />
                            <label>Reactie:</label><br />
                            <textarea class="form-control" id="Omschrijving" name="Beoordeling"></textarea>
                            <input type="submit" value="Indienen" class="btn btn-sq-lg btn-warning" onclick="Succes()" />
                        </fieldset>
                    </form>
                }
                else
                {
                    <h5>Uw reactie op deze beoordeling:</h5>
                    <p>@h.ReactieBeoordeling</p>
                }
            }
        }
        
    </div>
</div>